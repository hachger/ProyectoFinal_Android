<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      TIMER PROGRAMABLE
    </ion-title>
  </ion-toolbar>
  <ion-item>
    <ion-label>TOTAL TIME: </ion-label>
    <ion-label>{{totalMin}} : {{totalSec}}</ion-label>
  </ion-item>
  <ion-item>
    <ion-label>WORK TIME: </ion-label>
    <ion-label>{{totalMinWork}} : {{totalSecWork}}</ion-label>
  </ion-item>
  <ion-item>
    <ion-label>PAUSE TIME: </ion-label>
    <ion-label>{{totalMinPause}} : {{totalSecPause}}</ion-label>
  </ion-item>
</ion-header>

<ion-footer>
  <ion-toolbar>
    <ion-button (click)="onClickConnect()" expand="block" shape="round">
      CONNECT
    </ion-button>
    <ion-button (click)="onClickDiscover()" expand="block" shape="round">
      DISCOVER
    </ion-button>
  </ion-toolbar>
</ion-footer>

<ion-content [fullscreen]="true">
  <ion-fab horizontal="end" vertical="top" slot="fixed" edge>
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
    <ion-fab-list>
      <ion-fab-button color="light">
        <ion-icon name="stopwatch" (click)="onClickRound()"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="light" (click)="onClickTimer()">
        <ion-icon name="timer"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="light" (click)="onClickTabata()">
        <ion-icon name="watch"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="light" (click)="onClickPause()">
        <ion-icon name="PAUSE"></ion-icon>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>
  <div id="program">
    <ion-list>
      <div *ngFor="let t of theProgram;let i=index">
          <ion-item *ngIf="t.type=='ROUND'">
            <ion-icon name="stopwatch"></ion-icon>
            <ion-label position="fixed" style="color: coral;">{{t.type}}</ion-label>
            <ion-button (click)="onClickDelete(theProgram[i])" size="small" shape="round">
              DELETE
            </ion-button>
            <ion-button (click)="onClickUp(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-up-circle-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="onClickDown(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-down-circle-outline"></ion-icon>
            </ion-button>
          </ion-item>
          <ion-item *ngIf="t.type=='TABATA'">
            <ion-icon name="watch"></ion-icon>
            <ion-label position="fixed" style="color: coral;">{{t.type}}</ion-label>
            <ion-button (click)="onClickDelete(theProgram[i])" size="small" shape="round">
              DELETE
            </ion-button>
            <ion-button (click)="onClickUp(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-up-circle-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="onClickDown(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-down-circle-outline"></ion-icon>
            </ion-button>
          </ion-item>
          <ion-item *ngIf="t.type=='TIMER'">
            <ion-icon name="timer"></ion-icon>
            <ion-label position="fixed" style="color: coral;">{{t.type}}</ion-label>
            <ion-button (click)="onClickDelete(theProgram[i])" size="small" shape="round">
              DELETE
            </ion-button>
            <ion-button (click)="onClickUp(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-up-circle-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="onClickDown(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-down-circle-outline"></ion-icon>
            </ion-button>
          </ion-item>
          <ion-item *ngIf="t.type=='PAUSE'">
            <ion-icon name="PAUSE"></ion-icon>
            <ion-label position="fixed" style="color: coral;">{{t.type}}</ion-label>
            <ion-button (click)="onClickDelete(theProgram[i])" size="small" shape="round">
              DELETE
            </ion-button>
            <ion-button (click)="onClickUp(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-up-circle-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="onClickDown(theProgram[i])" size="small" shape="round">
              <ion-icon slot="icon-only" name="caret-down-circle-outline"></ion-icon>
            </ion-button>
          </ion-item>
          <ion-item *ngIf="t.type!='PAUSE'">
            <ion-label position="fixed" *ngIf="t.type!='TIMER'" style="width: 50%;">Time ROUND </ion-label>
            <ion-label position="fixed" *ngIf="t.type=='TIMER'" style="width: 50%;">Timer TIME </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].timeRoundMin" (change)='onChangeTime(theProgram[i])'
                       style="text-align: right;"></ion-input>
            <ion-label> : </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].timeRoundSec" (change)='onChangeTime(theProgram[i])'></ion-input>
          </ion-item>
          <ion-item *ngIf="t.type!='TIMER'">
            <ion-label position="fixed" style="width: 50%;">Time PAUSE </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].timePauseMin" (change)='onChangeTime(theProgram[i])' 
                       style="text-align: right;"></ion-input>
            <ion-label> : </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].timePauseSec" (change)='onChangeTime(theProgram[i])'></ion-input>
          </ion-item>
          <ion-item *ngIf="t.type!='TIMER' && t.type!='PAUSE'">
            <ion-label position="fixed" style="width: 50%;">ROUNDS </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].roundsCount" (change)='onChangeTime(theProgram[i])'
                       style="text-align: center;"></ion-input>
          </ion-item>
          <ion-item *ngIf="t.type=='TABATA'">
            <ion-label position="fixed" style="width: 50%;">Time MACROPAUSE </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].timeMacroPauseMin" (change)='onChangeTime(theProgram[i])'
                       style="text-align: right;"></ion-input>
            <ion-label> : </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].timeMacroPauseSec" (change)='onChangeTime(theProgram[i])'></ion-input>
          </ion-item>
          <ion-item *ngIf="t.type=='TABATA'">
            <ion-label position="fixed">Tabata ROUNDS </ion-label>
            <ion-input type="number" [(ngModel)]="theProgram[i].tabataRoundsCount" (change)='onChangeTime(theProgram[i])'
                       style="text-align: center;"></ion-input>
          </ion-item>
      </div>
    </ion-list>
  </div>
</ion-content>
